@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
    margin: 0; background: #101010;
    height: 100vh; display: flex; justify-content: center; align-items: center;
    font-family: 'Press Start 2P', cursive; overflow: hidden;
}

#game-wrap {
    position: relative;
    width: 100%; max-width: 768px; aspect-ratio: 16/10;
    background: #5C94FC; /* لون سماء ماريو */
    border: 4px solid #eee;
    box-shadow: 0 0 30px rgba(0,0,0,0.7);
}

canvas { width: 100%; height: 100%; display: block; image-rendering: pixelated; }

#hud {
    position: absolute; top: 15px; left: 15px; right: 15px;
    display: flex; justify-content: space-between;
    color: #fff; font-size: 14px; text-shadow: 2px 2px #000;
    pointer-events: none; direction: ltr;
}
#hud div { text-align: center; }

.overlay {
    position: absolute; inset: 0; background: rgba(0,0,0,0.9);
    display: none; flex-direction: column; justify-content: center; align-items: center;
    color: #fff; z-index: 100;
}
.overlay.active { display: flex; }

#start-screen h1 { color: #E70000; text-shadow: 3px 3px #000; font-size: 28px; text-align: center; line-height: 1.5; }
#start-screen p { margin-top: 20px; animation: blink 0.8s infinite; cursor: pointer; }
@keyframes blink { 50% { opacity: 0; } }

/* ستايل السؤال */
.quiz-modal {
    background: #5C94FC; border: 4px solid #fff; padding: 20px;
    width: 85%; max-width: 450px; border-radius: 8px; box-shadow: 8px 8px 0 #000;
    text-align: center;
}
.timer-bar { width: 100%; height: 8px; background: #000; margin: 10px 0; }
#timer-fill { width: 100%; height: 100%; background: #00E700; transition: width 1s linear; }

.math-display { margin: 20px 0; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; }
.q-text { font-size: 24px; margin-top: 15px; text-shadow: 2px 2px #000; direction: ltr; }

.visual-dots { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; min-height: 40px; }
.dot {
    width: 20px; height: 20px; background: #E70000; border-radius: 50%;
    border: 2px solid #fff; box-shadow: 2px 2px 0 rgba(0,0,0,0.5);
    position: relative;
}
/* الكرة المشطوبة */
.dot.crossed { background: #888; opacity: 0.7; }
.dot.crossed::after {
    content: '✖'; position: absolute; left: 50%; top: 50%;
    transform: translate(-50%, -50%); color: #fff; font-size: 16px; font-weight: bold;
}
.operator-sign { font-size: 24px; align-self: center; margin: 0 10px; }

.answers { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.ans-btn {
    background: #E70000; border: 2px solid #fff; color: white;
    padding: 12px; font-family: inherit; font-size: 16px; cursor: pointer;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.4);
}
.ans-btn:active { transform: translate(2px, 2px); box-shadow: 2px 2px 0 rgba(0,0,0,0.4); }

#mobile-controls {
    display: none; position: absolute; bottom: 20px; left: 10px; right: 10px;
    justify-content: space-between;
}
@media (hover: none) and (pointer: coarse) { #mobile-controls { display: flex; } }
.dpad { display: flex; gap: 15px; }
button { width: 65px; height: 65px; border-radius: 50%; background: rgba(255,255,255,0.2); border: 2px solid #fff; color: #fff; font-size: 20px; touch-action: manipulation; }
#btn-jump { background: rgba(231, 0, 0, 0.4); }
